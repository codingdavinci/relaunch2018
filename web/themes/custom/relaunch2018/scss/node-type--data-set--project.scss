@import 'includes/base';

.node--type-data-set,
.node--type-project {

  &.node--view-mode-full {
    margin-top: 4rem;
  }

  .article--main-image {
    .field--name-field-attributed-image {
      .field--name-field-inline-image {
        @include border-radius(10px);
        background-color: $color-light-teal;

        img {
          @include border-radius(10px);
          filter: brightness(200%) saturate(0%) contrast(200%);
          height: auto;
          max-width: 100%;
          mix-blend-mode: multiply;
          opacity: .2;
        }
      }
    }
  }

  .article--content-container {
    padding-top: 0;

    @include media-breakpoint-up(md) {
      padding-top: 100px;
    }

    .article--main {

      .field--name-field-attributed-image {
        text-align: center;

        .field--name-field-inline-image {
          @include rounded;
          @include boxShadow;
          background: $white;
          display: inline-block;
          padding: 1rem;

          img {
            @include rounded;
            @include img-fluid;
          }
        }
      }
    }

    .node__content  {
      @include border-top-radius($border-radius);
      background-color: $color-gray-6;
      margin-top: 3rem;

      &.node__content__section {
        margin-top: 0;
      }

      &:last-child {
        margin-bottom: $content-margin-bottom;
        margin-top: 3rem;
      }

      h1 {
        margin-top: 10px;
      }

      .badge {
        @include fontStyle(default);
      }

      .field {
        margin-bottom: 1rem;

        .field__label {
          @include fontStyle(small);
          font-weight: normal;
        }
      }

      .field--name-field-events {
        & > * {
          display: inline-block;
        }
      }

      .field--name-field-description {
        margin-top: 2rem;
      }

      fieldset {
        &:not(.object-type) {
          @include rounded;
          border: 1px solid $color-deep-teal;
          padding: 0 1.5rem 0 1.5rem;

          legend {
            background-color: $color-gray-6;
            color: $color-deep-teal;
            margin-left: 2rem;
            padding: 0 .5em;
            width: auto;
          }
        }

        &.object-type {
          margin-top: 2rem;

          legend {
            display: none;
          }

          ul {
            list-style-type: none;
            padding: 0;

            li {
              display: inline;

              ul {
                display: inline;
              }
            }
          }
        }
      }

      .field--name-field-short-description {
        font-weight: $font-weight-bold;
      }

      .group--result {
        @include rounded;
        background-color: lighten($color-light-teal, 5%);
        padding: 18px 20px 20px 20px;
        margin-top: 3rem;
        position: relative;

        &:before {
          @include fa-icon;
          color: $color-deep-teal;
          content: '\f108';
          font-size: 4rem;
          position: absolute;
          right: -1.2rem;
          top: -2rem;
        }

        & > .field:last-child {
          margin-bottom: 0;
        }
      }

      .group--team {
        margin-top: 3rem;
        position: relative;

        &:before {
          @include fa-icon;
          background-color: $color-gray-6;
          color: $color-deep-teal;
          content: '\f0c0';
          font-size: 4rem;
          padding-left: 1rem;
          position: absolute;
          right: -1.2rem;
          top: -2rem;
        }

        .field--name-field-team-members {
          display: grid;
          grid-gap: 20px;
          grid-template-columns: 1fr;

          @include media-breakpoint-up(lg) {
            grid-template-columns: 1fr 1fr;
          }

          & > .field__item {
            &:last-child {
              margin-bottom: 0;
            }
          }
        }
      }

      .group--data-sets,
      .view-projects.view-display-id-block_2 {
        margin: 0;

        & > h2 {
          border-bottom: 1px solid $color-gray-3;
        }

        .field--name-field-datasets,
        .view-content {
          .views-row {
            margin-bottom: 20px;
          }

          article {
            margin-bottom: 1rem;
            margin-top: 1rem;

            &:last-child {
              margin-bottom: 0;
            }

            .field--name-field-attributed-image {
              img {
                @include img-fluid;
              }
            }

            h2 {
              margin-bottom: 0;
            }

            .node__content {
              @include fontStyle(small);
              margin: 0;

              .field--name-field-object-type,
              .field--name-field-tags {
                .badge {
                  @include fontStyle(small);
                }
              }

              .field--name-field-short-description {
                font-weight: $font-weight-normal;
              }
            }
          }
        }

        .field--name-field-other-datasets {
          .field__label {
            border-bottom: 1px solid $color-gray-3;
            margin-bottom: .2rem;
          }
        }
      }

      .group--data-sets {
        margin-top: 3rem;
        position: relative;

        &:before {
          @include fa-icon;
          background-color: $color-gray-6;
          color: $color-deep-teal;
          content: '\f1c0';
          font-size: 4rem;
          padding-left: 1rem;
          position: absolute;
          right: -1.2rem;
          top: -2rem;
        }
      }

      .view-projects.view-display-id-block_2 {
        article {
          .field--name-field-attributed-image {
            margin-bottom: 0;

            .field {
              margin-bottom: 0;
            }
          }
        }
      }

      .field--name-field-event {
        display: inline;
      }

      .field--name-field-tags {
        display: inline;

        .field__items {
          display: inline;
        }
      }

      .project--tags {
        margin-bottom: 2rem;
        margin-top: 0;

        &:last-child {
          margin-top: 3rem;
        }
      }
    }

  }
}
