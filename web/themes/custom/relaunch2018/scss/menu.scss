@import '_includes/base';

.region-primary-menu {
  color: $color-white;
  font-family: $font-family-sans-serif;
  font-weight: $font-weight-semi-bold;
  user-select: none;

  @mixin menuFontSize {
    font-size: 1.6rem;

    @include media-breakpoint-up(sm) {
      font-size: 1.8rem;
    }

    @include media-breakpoint-up(md) {
      font-size: 2rem;
    }
  }

  .navbar {
    @include menuFontSize;
    height: 45px;
    padding: 0;
    // Keep z-index below admin toolbar:
    z-index: 250;

    .navbar--wrapper {
      align-items: center;
      background-color: $color-gray-1;
      display: flex;
      justify-content: space-between;
      height: 100%;
      width: 100%;

      .navbar-toggler {
        @include menuFontSize;
        border-radius: 0;
        min-width: 75px;
        outline: none;
        text-align: left;
        white-space: nowrap;

        @include media-breakpoint-up(sm) {
          min-width: 80px;
        }

        @include media-breakpoint-up(lg) {
          min-width: 95px;
        }

        .navbar-toggler-icon--wrapper {
          @include curlyBraces($color-white);
          @include easeOut;
          display: inline-block;
          transform: rotate(359deg);

          .navbar-toggler-icon {
            height: auto;
            vertical-align: baseline;
            width: auto;

            &:after {
              @include icon;
              content: '\e812';
              font-size: 1.2rem;
              margin: 0;
              vertical-align: 0.1rem;

              @include media-breakpoint-up(sm) {
                font-size: 1.4rem;
              }

              @include media-breakpoint-up(md) {
                font-size: 1.6rem;
              }
            }
          }
        }

        &.collapsed {
          font-family: $font-family-sans-serif;
          margin-top: 0;

          .navbar-toggler-icon--wrapper {
            transform: rotate(0deg);

            .navbar-toggler-icon {
              &:after {
                content: 'â€¦';
                font-weight: $font-weight-bold;
              }
            }
          }
        }
      }

      .menu--main--brand {
        display: flex;
        margin-top: 0.2rem;
      }
    }

    .navbar--menu {
      background: $color-red-3;
      min-width: 67%;
      overflow: auto;
      padding: 0 1.5rem 0 0.75rem;
      transform: translate3d(-100%, 0, 0);
      transition: all 0.3s ease-in-out;

      @include media-breakpoint-up(sm) {
        min-width: 33%;
      }

      @include media-breakpoint-up(lg) {
        min-width: 25%;
      }

      .navbar-collapse {
        align-items: flex-start;
        display: flex;
        flex-direction: column;
        height: calc(100vh - 45px);
        justify-content: space-between;

        .navbar-nav {
          flex-shrink: 0;

          .menu-item {
            opacity: 0;
            transform: translate3d(100vw, 0, 0);
            transition: transform 0.3s ease-in-out, opacity 0.3s cubic-bezier(0.6, 0.04, 0.98, 0.335);

            &:hover {
              background-color: transparent;
            }

            .dropdown-toggle {
              &:after {
                content: none;
              }
            }

            .dropdown-menu {
              @include fontStyle(default);
              background-color: transparent;
              border: none;
              padding-top: 0;

              .menu-item {
                padding-left: 0;
                padding-right: 0;
              }
            }
          }
        }
      }

      &.show {
        transform: translate3d(0, 0, 0);

        .navbar-collapse {
          .navbar-nav {
            .menu-item {
              opacity: 1;
              transform: translate3d(0, 0, 0);
            }
          }
        }
      }

      a {
        color: $color-deep-teal;

        &:hover {
          text-decoration: underline;
        }
      }

      .menu--acount {
        .menu {
          .menu-item {
            a {
              @include curlyBraces($color-gray-3);
              @include fontStyle(default);
              color: $color-gray-3;
              font-weight: $font-weight-light;
            }
          }
        }
      }
    }
  }
}
