{"version":3,"sources":["api.js","components/ProjectFilters.js","components/Cards.js","components/Pagination.js","Projects.js","App.js","index.js"],"names":["API_HOST","process","loadProjectTypes","id","a","axios","get","headers","catch","error","response","data","loadEvents","loadCards","offset","projects","events","q","ProjectFilters","props","selectProjectType","tid","selectedProjectTypes","state","includes","filter","item","push","setState","updateProjectTypes","selectEvent","nid","selectedEvents","updateEvents","onChange","event","searchTerm","target","value","doSearch","e","preventDefault","doReset","renderTag","term","key","className","href","onClick","title","renderEvent","loading","projectTypes","this","htmlFor","data-drupal-selector","multiple","name","size","map","type","maxLength","React","Component","Cards","cards","length","card","data-history-node-id","winner_title","url","src","image_url","width","height","alt","rel","description","project_types","project_type","index","event_url","event_title","Pagination","prevPage","nextPage","out","currentPage","current","hasPreviousLink","Boolean","total","hasNextLink","hasLastLink","aria-hidden","i","classNameLi","display","role","aria-labelledby","pagination","Projects","handlePaginationClick","page","loadData","limit","join","pages","Math","ceil","count","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f151019c.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport const API_HOST = process.env.REACT_APP_API_HOST\n// export const API_HOST = process.env.REACT_APP_API_HOST || \"https://\" + window.location.host\n\n\nexport async function loadProjectTypes(id) {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/projecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadObjectTypes(id) {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/objecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadLicenses(id) {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/licenses`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadTheme(id) {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/theme`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadInstitutions() {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/institutions`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadEvents(id) {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/events`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadCards(offset, projects = \"\", events = \"\", q = \"\") {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/cards?offset=${offset}&projects=${projects}&events=${events}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadDatasets(offset, events = \"\", objecttypes = \"\", licenses = \"\", theme = \"\", institution=\"\", q = \"\") {\n  const response = await axios.get(\n    `${API_HOST}/dd_views/datasets?offset=${offset}&objecttypes=${objecttypes}&events=${events}&licenses=${licenses}&theme=${theme}&institution=${institution}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}","import React from \"react\";\n\nimport { loadProjectTypes, loadEvents } from \"../api\"\n\nclass ProjectFilters extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      projectTypes: [],\n      events: [],\n      selectedProjectTypes: [],\n      selectedEvents: [],\n    }\n  }\n\n  selectProjectType = (tid) => {\n    let selectedProjectTypes = this.state.selectedProjectTypes\n\n    if (this.state.selectedProjectTypes.includes(tid)) {\n      selectedProjectTypes = selectedProjectTypes.filter(item => item !== tid)\n    } else {\n      selectedProjectTypes.push(tid)\n    }\n\n    this.setState({ selectedProjectTypes }, async () => {\n      this.props.updateProjectTypes(selectedProjectTypes)\n    })\n  }\n\n  selectEvent = (nid) => {\n    let selectedEvents = this.state.selectedEvents\n\n    if (this.state.selectedEvents.includes(nid)) {\n      selectedEvents = selectedEvents.filter(item => item !== nid)\n    } else {\n      selectedEvents.push(nid)\n    }\n\n    this.setState({ selectedEvents }, async () => {\n      this.props.updateEvents(selectedEvents)\n    })\n  }\n\n  onChange = (event) => {\n    this.setState({ searchTerm: event.target.value })\n  }\n\n  doSearch = (e) => {\n    e.preventDefault()\n\n    if (this.state.searchTerm) {\n      this.props.doSearch(this.state.searchTerm)\n    }\n  }\n\n  doReset = (e) => {\n    e.preventDefault()\n    this.setState({ selectedProjectTypes: [], selectedEvents: [], searchTerm: \"\" }, async () => {\n      this.props.updateProjectTypes([])\n      this.props.updateEvents([])\n      this.props.doSearch(\"\")\n    })\n  }\n\n  async componentDidMount() {\n    const projectTypes = await loadProjectTypes()\n    const events = await loadEvents()\n\n    this.setState({\n      ...this.state,\n      projectTypes: projectTypes,\n      events: events,\n      loading: false,\n    }, async () => {\n\n    })\n  }\n\n  renderTag = (term, key) => {\n    if (this.state.selectedProjectTypes.includes(term.tid)) {\n      return (<li key={key}><div className=\"badge\"><a href=\"#\" className=\"bef-link bef-link--selected badge\" onClick={() => this.selectProjectType(term.tid)}>{term.title}</a></div></li>)\n    } else {\n      return (<li key={key}><div className=\"badge\"><a href=\"#\" className=\"bef-link badge\" onClick={() => this.selectProjectType(term.tid)}>{term.title}</a></div></li>)\n    }\n  }\n\n  renderEvent = (event, key) => {\n    if (this.state.selectedEvents.includes(event.nid)) {\n      return (<li key={key}><div className=\"badge\"><a href=\"#\" className=\"bef-link bef-link--selected badge\" onClick={() => this.selectEvent(event.nid)}>{event.title}</a></div></li>)\n    } else {\n      return (<li key={key}><div className=\"badge\"><a href=\"#\" className=\"bef-link badge\" onClick={() => this.selectEvent(event.nid)}>{event.title}</a></div></li>)\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view-filters col-lg-3\">\n        <form className=\"views-exposed-form bef-exposed-form\" >\n          <div className=\"form--inline clearfix row\">\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-project-type form-item-project-type\">\n                <label htmlFor=\"edit-project-type\">Typ des Projekts</label>\n                <div data-drupal-selector=\"edit-project-type\" multiple=\"multiple\" name=\"project_type\" id=\"edit-project-type\" size=\"9\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.projectTypes.map((term, key) => {\n                      return (this.renderTag(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-event\">Event</label>\n                <div data-drupal-selector=\"edit-event\" multiple=\"multiple\" name=\"event\" id=\"edit-event\" size=\"8\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.events.map((term, key) => {\n                      return (this.renderEvent(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search\">\n                <label htmlFor=\"edit-search\">Volltextsuche</label>\n                <input type=\"text\" id=\"edit-search\" name=\"search\" value={this.state.searchTerm} size=\"30\" maxLength=\"128\" className=\"form-text\" onChange={this.onChange}/>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div data-drupal-selector=\"edit-actions\" className=\"form-actions js-form-wrapper form-wrapper\" id=\"edit-actions\">\n                <input type=\"submit\" value=\"Filter anwenden\" className=\"button js-form-submit form-submit\" onClick={this.doSearch}/>\n                <input type=\"submit\" value=\"Zurücksetzen\" className=\"button js-form-submit form-submit\" onClick={this.doReset}/>\n              </div>\n          </div>\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\n\nexport default ProjectFilters;","\nfunction Cards(props) {\n  if (!props.cards.length) {\n    return <div className=\"col-lg-9\">\n            <div className=\"\">\n              Es sind keine den Filtereinstellungen entsprechenden Datensets vorhanden.\n            </div>\n          </div>\n  }\n  return (\n    <div className=\"view-content col-lg-9\">\n     {props.cards.map((card, key)=>{\n        return (<div className=\"views-row\" key={key}>\n          <article data-history-node-id=\"1846\" className=\"node node--type-project node--view-mode-teaser card\">\n            <div className=\"card-img card-img-top\">\n              <div className=\"field field--awards\">{card.winner_title}</div>\n              <a href={card.url}>\n                <div className=\"field field--name-field-attributed-image field--type-entity-reference-revisions field--label-hidden field__item\">\n                  <div className=\"paragraph paragraph--type--project-image paragraph--view-mode--teaser\">\n                    <div className=\"field field--name-field-inline-image field--type-image field--label-hidden field__item\">\n                      <img src={card.image_url} width=\"480\" height=\"360\" alt=\"\" className=\"image-style-project-preview-cropped\"/>\n                    </div>\n                    <div className=\"paragraph--type--project-image--attribution\"></div>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div className=\"card-body\">\n              <h2 className=\"card-title\">\n                <a href={card.url} rel=\"bookmark\">\n                  <span className=\"field field--name-title field--type-string field--label-hidden\">{card.title}</span>\n                </a>\n              </h2>\n              <div className=\"node__content\">\n                <div className=\"field field--name-field-short-description field--type-string field--label-hidden field__item\">{card.description}</div>\n                <div className=\"field field--name-field-tags field--type-entity-reference field--label-visually_hidden\">\n                  <div className=\"field__label visually-hidden\">Projekttyp</div>\n                  <div className=\"field__items\">\n                    {card.project_types.map((project_type, index) => {\n                      return (<div key={index} className=\"field__item\"><span>{project_type}</span></div>)\n                    })}\n                  </div>\n                </div>\n                <div className=\"field field--name-field-event field--type-entity-reference field--label-visually_hidden\">\n                  <div className=\"field__label visually-hidden\">Event</div>\n                  <div className=\"field__item\">\n                    <a href={card.event_url}>{card.event_title}</a>\n                  </div>\n                </div>\n                </div>\n              </div>\n            </article>\n          </div>\n     )})}\n      </div>\n  )\n}\n\nexport default Cards;","import React from \"react\";\n\n\n\nclass Pagination extends React.Component {\n\n  pagination(prevPage, nextPage) {\n    const out = []\n\n    const currentPage = this.props.current + 1\n    const hasPreviousLink = Boolean(currentPage > 1 && prevPage !== this.props.total)\n    const hasNextLink = Boolean(nextPage >= currentPage && nextPage !== this.props.total)\n\n    const hasFirstLink = hasPreviousLink\n    const hasLastLink = hasNextLink\n\n    if (hasFirstLink) { // «\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur ersten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, 0)}>\n          <span className=\"visually-hidden\">Erste Seite</span>\n          <span aria-hidden=\"true\">&#171;</span>\n        </a>\n      </li>)\n    }\n\n    if (hasPreviousLink) {\n      out.push(\n        <li className=\"pager__item pager__item--previous\">\n        <a href=\"#\" title=\"Zur vorherigen Seite\" rel=\"prev\" onClick={(e) => this.props.onChange(e, prevPage)}>\n          <span className=\"visually-hidden\">Vorherige Seite</span>\n          <span aria-hidden=\"true\">‹</span>\n        </a>\n      </li>\n      )\n    }\n\n    for (let i = 1; i < (this.props.total + 1); i++) {\n\n      const pushPage = ((i < 3) || (i > (this.props.total - 2)) || (i === currentPage)) ? true : false\n\n      if (pushPage) {\n        const classNameLi = (i === currentPage) ? \"pager__item is-active\" : \"pager__item\"\n        out.push(<li className={classNameLi} key={i}>\n          <a href=\"#\" onClick={(e) => this.props.onChange(e, (i - 1))}>\n            {i}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === 3)\n      ) {\n        const display = (this.props.total === 5) ? '3' : '...'\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\" >\n            {display}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === (this.props.total - 2))\n        && !(\n          (currentPage < 3)\n          || (currentPage > (this.props.total - 2))\n        )\n      ) {\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\">\n            ...\n          </a>\n        </li>)\n      }\n    }\n\n    if (hasNextLink) {\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur nächsten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, nextPage)}>\n          <span className=\"visually-hidden\">Nächste Seite</span>\n          <span aria-hidden=\"true\">›</span>\n        </a>\n      </li>)\n    }\n\n    if (hasLastLink) { // »\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur letzten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, this.props.total-1)}>\n          <span className=\"visually-hidden\">Letzte Seite</span>\n          <span aria-hidden=\"true\">&#187;</span>\n        </a>\n      </li>)\n    }\n\n    return out;\n  }\n\n  render() {\n\n    const prevPage = ((this.props.current - 1) >= 0) ? this.props.current - 1 : 0\n    const nextPage = ((this.props.current + 1) <= this.props.total) ? this.props.current + 1 : this.props.total\n\n    return (\n      <div className=\"col-lg-9 offset-lg-3\">\n        <nav className=\"pager\" role=\"navigation\" aria-labelledby=\"pagination-heading\">\n          <h4 id=\"pagination-heading\" className=\"visually-hidden\">Seitennummerierung</h4>\n            <ul className=\"pager__items js-pager__items\">\n              {this.pagination(prevPage, nextPage)}\n            </ul>\n          </nav>\n        </div>\n    );\n  }\n}\nexport default Pagination;","import React from \"react\";\n\n\nimport ProjectFilters from \"./components/ProjectFilters\"\nimport Cards from \"./components/Cards\"\nimport Pagination from \"./components/Pagination\"\n\n\nimport { loadCards } from \"./api\"\n\n\nclass Projects extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      count: 0,\n      pages: 0,\n      currentPage: 0,\n      limit: 24,\n      cards: [],\n      selectedProjectTypes:[],\n      selectedEvents:[],\n    }\n  }\n\n  handlePaginationClick = async (e, page) => {\n    this.setState({\n      ...this.state,\n      currentPage: page\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateProjectTypes = async (data) => {\n    this.setState({\n      selectedProjectTypes: data\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateEvents = async (data) => {\n    this.setState({\n      selectedEvents: data\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  doSearch = async (q) => {\n    this.setState({\n      searchTerm: q\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  loadData = async () => {\n    const limit = this.state.limit\n    const offset = this.state.currentPage * limit\n\n    const projects = this.state.selectedProjectTypes.join(\",\")\n    const events   = this.state.selectedEvents.join(\",\")\n\n    const cards = await loadCards(offset, projects, events, this.state.searchTerm)\n\n    this.setState({\n      ...this.state,\n      cards: cards.data,\n      pages: Math.ceil(cards.count / limit),\n      loading: false,\n    }, async () => {\n\n    })\n  }\n\n  async componentDidMount() {\n    this.loadData()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view view-projects view-id-projects view-display-id-page_1 container\">\n        <div className=\"row\">\n          <ProjectFilters\n            updateProjectTypes={this.updateProjectTypes}\n            updateEvents={this.updateEvents}\n            doSearch={this.doSearch}\n          />\n          <Cards cards={this.state.cards} />\n          <Pagination\n            total={this.state.pages}\n            current={this.state.currentPage}\n            onChange={this.handlePaginationClick}\n            limit={this.state.limit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Projects;","\nimport Projects from \"./Projects\"\n// import Data from \"./Data\"\n\n// import \"./app.css\"\n\n\n// <Data />\nfunction App() {\n  return (\n    <Projects />\n    // <Data />\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}