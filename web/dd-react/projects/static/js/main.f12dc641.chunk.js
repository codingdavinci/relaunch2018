(this["webpackJsonpdnb-filter"]=this["webpackJsonpdnb-filter"]||[]).push([[0],{45:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(4),s=n.n(a),c=n(20),i=n.n(c),l=n(1),o=n.n(l),d=n(6),p=n(2),u=n(7),j=n(8),h=n(10),f=n(9),m=n(5),b=n.n(m),v="";function x(){for(var e=window.location.pathname.split("/"),t="de";e.length>0;)if(t=e.pop(),["de","en","fr"].includes(t))return t;return t}function O(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x(),e.next=3,b.a.get("".concat(v,"/").concat(n,"/dd_views/projecttypes"),{headers:{"Content-Type":"application/json"}}).catch((function(e){throw e.response}));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x(),e.next=3,b.a.get("".concat(v,"/").concat(n,"/dd_views/events"),{headers:{"Content-Type":"application/json"}}).catch((function(e){throw e.response}));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(o.a.mark((function e(t){var n,r,a,s,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2&&void 0!==i[2]?i[2]:"",a=i.length>3&&void 0!==i[3]?i[3]:"",s=x(),e.next=6,b.a.get("".concat(v,"/").concat(s,"/dd_views/cards?offset=").concat(t,"&projects=").concat(n,"&events=").concat(r,"&q=").concat(a),{headers:{"Content-Type":"application/json"}}).catch((function(e){throw e.response}));case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).selectProjectType=function(e){var t=a.state.selectedProjectTypes;a.state.selectedProjectTypes.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),a.setState({selectedProjectTypes:t},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.updateProjectTypes(t);case 1:case"end":return e.stop()}}),e)}))))},a.selectEvent=function(e){var t=a.state.selectedEvents;a.state.selectedEvents.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),a.setState({selectedEvents:t},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.updateEvents(t);case 1:case"end":return e.stop()}}),e)}))))},a.onChange=function(e){a.setState({searchTerm:e.target.value})},a.doSearch=function(e){e.preventDefault(),a.state.searchTerm&&a.props.doSearch(a.state.searchTerm)},a.doReset=function(e){e.preventDefault(),a.setState({selectedProjectTypes:[],selectedEvents:[],searchTerm:""},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.updateProjectTypes([]),a.props.updateEvents([]),a.props.doSearch("");case 3:case"end":return e.stop()}}),e)}))))},a.renderTag=function(e,t){return a.state.selectedProjectTypes.includes(e.tid)?Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"badge",children:Object(r.jsx)("a",{href:"#",className:"bef-link bef-link--selected badge",onClick:function(){return a.selectProjectType(e.tid)},children:e.title})})},t):Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"badge",children:Object(r.jsx)("a",{href:"#",className:"bef-link badge",onClick:function(){return a.selectProjectType(e.tid)},children:e.title})})},t)},a.renderEvent=function(e,t){return a.state.selectedEvents.includes(e.nid)?Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"badge",children:Object(r.jsx)("a",{href:"#",className:"bef-link bef-link--selected badge",onClick:function(){return a.selectEvent(e.nid)},children:e.title})})},t):Object(r.jsx)("li",{children:Object(r.jsx)("div",{className:"badge",children:Object(r.jsx)("a",{href:"#",className:"bef-link badge",onClick:function(){return a.selectEvent(e.nid)},children:e.title})})},t)},a.state={loading:!0,searchTerm:"",projectTypes:[],events:[],selectedProjectTypes:[],selectedEvents:[]},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return t=e.sent,e.next=5,y();case 5:n=e.sent,this.setState(Object(d.a)(Object(d.a)({},this.state),{},{projectTypes:t,events:n,loading:!1}),Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?"....":Object(r.jsx)("div",{className:"view-filters col-lg-3",children:Object(r.jsx)("form",{className:"views-exposed-form bef-exposed-form",children:Object(r.jsxs)("div",{className:"form--inline clearfix row",children:[Object(r.jsx)("div",{className:"col-12",children:Object(r.jsxs)("div",{className:"js-form-item form-item js-form-type-select form-type-select js-form-item-project-type form-item-project-type",children:[Object(r.jsx)("label",{htmlFor:"edit-project-type",children:"Typ des Projekts"}),Object(r.jsx)("div",{"data-drupal-selector":"edit-project-type",multiple:"multiple",name:"project_type",id:"edit-project-type",size:"9",className:"form-select bef-links",children:Object(r.jsx)("ul",{children:this.state.projectTypes.map((function(t,n){return e.renderTag(t,n)}))})})]})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsxs)("div",{className:"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event",children:[Object(r.jsx)("label",{htmlFor:"edit-event",children:"Event"}),Object(r.jsx)("div",{"data-drupal-selector":"edit-event",multiple:"multiple",name:"event",id:"edit-event",size:"8",className:"form-select bef-links",children:Object(r.jsx)("ul",{children:this.state.events.map((function(t,n){return e.renderEvent(t,n)}))})})]})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsxs)("div",{className:"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search",children:[Object(r.jsx)("label",{htmlFor:"edit-search",children:"Volltextsuche"}),Object(r.jsx)("input",{type:"text",id:"edit-search",name:"search",value:this.state.searchTerm,size:"30",maxLength:"128",className:"form-text",onChange:this.onChange})]})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsxs)("div",{"data-drupal-selector":"edit-actions",className:"form-actions js-form-wrapper form-wrapper",id:"edit-actions",children:[Object(r.jsx)("input",{type:"submit",value:"Filter anwenden",className:"button js-form-submit form-submit",onClick:this.doSearch}),Object(r.jsx)("input",{type:"submit",value:"Zur\xfccksetzen",className:"button js-form-submit form-submit",onClick:this.doReset})]})})]})})})}}]),n}(s.a.Component);var T=function(e){return e.cards.length?Object(r.jsx)("div",{className:"view-content col-lg-9",children:e.cards.map((function(e,t){return Object(r.jsx)("div",{className:"views-row",children:Object(r.jsxs)("article",{"data-history-node-id":"1846",className:"node node--type-project node--view-mode-teaser card",children:[Object(r.jsxs)("div",{className:"card-img card-img-top",children:[Object(r.jsx)("div",{className:"field field--awards",children:e.winner_title}),Object(r.jsx)("a",{href:e.url,children:Object(r.jsx)("div",{className:"field field--name-field-attributed-image field--type-entity-reference-revisions field--label-hidden field__item",children:Object(r.jsxs)("div",{className:"paragraph paragraph--type--project-image paragraph--view-mode--teaser",children:[Object(r.jsx)("div",{className:"field field--name-field-inline-image field--type-image field--label-hidden field__item",children:Object(r.jsx)("img",{src:e.image_url,width:"480",height:"360",alt:"",className:"image-style-project-preview-cropped"})}),Object(r.jsx)("div",{className:"paragraph--type--project-image--attribution"})]})})})]}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"card-title",children:Object(r.jsx)("a",{href:e.url,rel:"bookmark",children:Object(r.jsx)("span",{className:"field field--name-title field--type-string field--label-hidden",children:e.title})})}),Object(r.jsxs)("div",{className:"node__content",children:[Object(r.jsx)("div",{className:"field field--name-field-short-description field--type-string field--label-hidden field__item",children:e.description}),Object(r.jsxs)("div",{className:"field field--name-field-tags field--type-entity-reference field--label-visually_hidden",children:[Object(r.jsx)("div",{className:"field__label visually-hidden",children:"Projekttyp"}),Object(r.jsx)("div",{className:"field__items",children:e.project_types.map((function(e,t){return Object(r.jsx)("div",{className:"field__item",children:Object(r.jsx)("span",{children:e})},t)}))})]}),Object(r.jsxs)("div",{className:"field field--name-field-event field--type-entity-reference field--label-visually_hidden",children:[Object(r.jsx)("div",{className:"field__label visually-hidden",children:"Event"}),Object(r.jsx)("div",{className:"field__item",children:Object(r.jsx)("a",{href:e.event_url,children:e.event_title})})]})]})]})]})},t)}))}):Object(r.jsx)("div",{className:"col-lg-9",children:Object(r.jsx)("div",{className:"",children:"Es sind keine den Filtereinstellungen entsprechenden Projekte vorhanden."})})},P=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"pagination",value:function(e,t){var n=this,a=[],s=this.props.current+1,c=Boolean(s>1&&e!==this.props.total),i=Boolean(t>=s&&t!==this.props.total),l=i;c&&a.push(Object(r.jsx)("li",{className:"pager__item pager__item--next",children:Object(r.jsxs)("a",{href:"#",title:"Zur ersten Seite",rel:"next",onClick:function(e){return n.props.onChange(e,0)},children:[Object(r.jsx)("span",{className:"visually-hidden",children:"Erste Seite"}),Object(r.jsx)("span",{"aria-hidden":"true",children:"\xab"})]})})),c&&a.push(Object(r.jsx)("li",{className:"pager__item pager__item--previous",children:Object(r.jsxs)("a",{href:"#",title:"Zur vorherigen Seite",rel:"prev",onClick:function(t){return n.props.onChange(t,e)},children:[Object(r.jsx)("span",{className:"visually-hidden",children:"Vorherige Seite"}),Object(r.jsx)("span",{"aria-hidden":"true",children:"\u2039"})]})}));for(var o=function(e){if(e<3||e>n.props.total-2||e===s){var t=e===s?"pager__item is-active":"pager__item";a.push(Object(r.jsx)("li",{className:t,children:Object(r.jsx)("a",{href:"#",onClick:function(t){return n.props.onChange(t,e-1)},children:e})},e))}else if(n.props.total>4&&e!==s&&3===e){var c=5===n.props.total?"3":"...";a.push(Object(r.jsx)("li",{className:"pager__item disabled",children:Object(r.jsx)("a",{href:"#",children:c})},e))}else n.props.total>4&&e!==s&&e===n.props.total-2&&!(s<3||s>n.props.total-2)&&a.push(Object(r.jsx)("li",{className:"pager__item disabled",children:Object(r.jsx)("a",{href:"#",children:"..."})},e))},d=1;d<this.props.total+1;d++)o(d);return i&&a.push(Object(r.jsx)("li",{className:"pager__item pager__item--next",children:Object(r.jsxs)("a",{href:"#",title:"Zur n\xe4chsten Seite",rel:"next",onClick:function(e){return n.props.onChange(e,t)},children:[Object(r.jsx)("span",{className:"visually-hidden",children:"N\xe4chste Seite"}),Object(r.jsx)("span",{"aria-hidden":"true",children:"\u203a"})]})})),l&&a.push(Object(r.jsx)("li",{className:"pager__item pager__item--next",children:Object(r.jsxs)("a",{href:"#",title:"Zur letzten Seite",rel:"next",onClick:function(e){return n.props.onChange(e,n.props.total-1)},children:[Object(r.jsx)("span",{className:"visually-hidden",children:"Letzte Seite"}),Object(r.jsx)("span",{"aria-hidden":"true",children:"\xbb"})]})})),a}},{key:"render",value:function(){var e=this.props.current-1>=0?this.props.current-1:0,t=this.props.current+1<=this.props.total?this.props.current+1:this.props.total;return Object(r.jsx)("div",{className:"col-lg-9 offset-lg-3",children:Object(r.jsxs)("nav",{className:"pager",role:"navigation","aria-labelledby":"pagination-heading",children:[Object(r.jsx)("h4",{id:"pagination-heading",className:"visually-hidden",children:"Seitennummerierung"}),Object(r.jsx)("ul",{className:"pager__items js-pager__items",children:this.pagination(e,t)})]})})}}]),n}(s.a.Component),C=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).handlePaginationClick=function(){var e=Object(p.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState(Object(d.a)(Object(d.a)({},r.state),{},{currentPage:n}),Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadData();case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.updateProjectTypes=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({selectedProjectTypes:t,currentPage:0},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadData();case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateEvents=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({selectedEvents:t,currentPage:0},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadData();case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.doSearch=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({searchTerm:t,currentPage:0},Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadData();case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadData=Object(p.a)(o.a.mark((function e(){var t,n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.limit,n=r.state.currentPage*t,a=r.state.selectedProjectTypes.join(","),s=r.state.selectedEvents.join(","),e.next=6,N(n,a,s,r.state.searchTerm);case 6:c=e.sent,r.setState(Object(d.a)(Object(d.a)({},r.state),{},{cards:c.data,pages:Math.ceil(c.count/t),loading:!1}),Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),r.state={loading:!0,searchTerm:"",count:0,pages:0,currentPage:0,limit:24,cards:[],selectedProjectTypes:[],selectedEvents:[]},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?"....":Object(r.jsx)("div",{className:"view view-projects view-id-projects view-display-id-page_1 container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(k,{updateProjectTypes:this.updateProjectTypes,updateEvents:this.updateEvents,doSearch:this.doSearch}),Object(r.jsx)(T,{cards:this.state.cards}),Object(r.jsx)(P,{total:this.state.pages,current:this.state.currentPage,onChange:this.handlePaginationClick,limit:this.state.limit})]})})}}]),n}(s.a.Component);var S=function(){return Object(r.jsx)(C,{})};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(S,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f12dc641.chunk.js.map