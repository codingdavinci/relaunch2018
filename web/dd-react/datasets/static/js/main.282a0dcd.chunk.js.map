{"version":3,"sources":["api.js","components/DataFilters.js","components/Datasets.js","components/Pagination.js","Data.js","App.js","index.js"],"names":["API_HOST","process","getLangCodeOfPath","pathArray","window","location","pathname","split","langCode","length","pop","includes","loadObjectTypes","id","a","axios","get","headers","catch","error","response","data","loadSubObjectTypes","loadLicenses","loadTheme","loadInstitutions","loadEvents","loadDatasets","offset","events","objecttypes","subobjecttypes","licenses","theme","institution","q","DataFilters","props","selectObjectType","tid","selectedObjectTypes","state","params","filter","item","delete","selectedSubObjectTypes","subObjectTypes","map","subterm","setState","updateSubObjectTypes","push","toString","append","hash","updateObjectTypes","selectSubObjectType","selectLicense","selectedLicenses","URLSearchParams","updateLicenses","selectTheme","selectedTheme","updateTheme","selectEvent","nid","selectedEvents","updateEvents","checkURL","urlSubObjectTypes","selectedInstitution","searchTerm","doSearch","forEach","type","ele","find","objectTypes","objType","subobjTypes","selectedSubobjType","parseInt","onChange","event","target","value","onChangeInstitution","newValue","method","getSuggestions","inputValue","trim","toLowerCase","inputLength","institutions","name","indexOf","onSuggestionsFetchRequested","institutionSuggestions","onSuggestionsClearRequested","e","preventDefault","doReset","renderObjectTypes","term","key","className","onClick","title","style","display","subClassName","renderLicenses","renderEvent","renderTheme","loading","suggestion","this","htmlFor","data-drupal-selector","multiple","size","suggestions","getSuggestionValue","renderSuggestion","inputProps","placeholder","maxLength","React","Component","Datasets","cards","card","href","url","src","image_url","width","height","alt","rel","author_name","event_titles","index","objecttypes_titles","project_type","Pagination","prevPage","nextPage","out","currentPage","current","hasPreviousLink","Boolean","total","hasNextLink","hasLastLink","aria-hidden","i","classNameLi","role","aria-labelledby","pagination","Data","handlePaginationClick","page","loadData","ins","limit","join","pages","Math","ceil","count","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.282a0dcd.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport const API_HOST = process.env.REACT_APP_API_HOST\n// export const API_HOST = process.env.REACT_APP_API_HOST || \"https://\" + window.location.host\n\n\nfunction getLangCodeOfPath() {\n  const pathArray = window.location.pathname.split('/');\n  let langCode = \"de\"\n  while (pathArray.length > 0 ) {\n    langCode = pathArray.pop();\n    if (['de', 'en', 'fr'].includes(langCode)) {\n      return langCode\n    }\n  }\n  return langCode\n}\n\n\nexport async function loadProjectTypes(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/projecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadObjectTypes(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/objecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\n\nexport async function loadSubObjectTypes() {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/subobjecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n  return response.data\n}\n\n\nexport async function loadLicenses(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/licenses`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadTheme(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/theme`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadInstitutions() {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/institutions`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadEvents(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/events`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadCards(offset, projects = \"\", events = \"\", q = \"\") {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/cards?offset=${offset}&projects=${projects}&events=${events}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadDatasets(offset, events = \"\", objecttypes = \"\", subobjecttypes = \"\", licenses = \"\", theme = \"\", institution=\"\", q = \"\") {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/datasets?offset=${offset}&objecttypes=${objecttypes}&subobjecttypes=${subobjecttypes}&events=${events}&licenses=${licenses}&theme=${theme}&institution=${institution}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}","import React from \"react\";\nimport Autosuggest from 'react-autosuggest';\n\nimport { loadObjectTypes, loadSubObjectTypes, loadEvents, loadLicenses, loadTheme, loadInstitutions } from \"../api\"\n\nclass DataFilters extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      selectedInstitution: \"\",\n      institutionSuggestions: [],\n      objectTypes: [],\n      subObjectTypes: [],\n      events: [],\n      licenses: [],\n      theme: [],\n      selectedObjectTypes: [],\n      selectedSubObjectTypes: [],\n      selectedEvents: [],\n      selectedTheme: [],\n      selectedLicenses: [],\n      institutions: [],\n      params: new URLSearchParams(window.location.hash.split(\"#\")[1]),\n    }\n  }\n\n  renderSuggestion(suggestion) {\n    return (\n      <span>{suggestion.name}</span>\n    );\n  }\n\n  getSuggestionValue(suggestion) {\n    return suggestion.name;\n  }\n\n  selectObjectType = (tid) => {\n    let selectedObjectTypes = this.state.selectedObjectTypes\n    let params = this.state.params\n\n    if (this.state.selectedObjectTypes.includes(tid)) {\n      selectedObjectTypes = selectedObjectTypes.filter(item => item !== tid)\n      params.delete(tid)\n      // deselect childs if parent is not selected\n      let selectedSubObjectTypes = this.state.selectedSubObjectTypes\n      if (this.state.subObjectTypes[tid] && selectedSubObjectTypes.length) {\n        this.state.subObjectTypes[tid].map(subterm => {\n          if (selectedSubObjectTypes.includes(subterm.tid))\n            selectedSubObjectTypes = selectedSubObjectTypes.filter(item => item !== subterm.tid)\n            params.delete(subterm.tid)\n          return null\n        })\n        this.setState({ selectedSubObjectTypes }, async () => {\n          this.props.updateSubObjectTypes(selectedSubObjectTypes)\n        })\n      }\n    } else {\n      selectedObjectTypes.push(tid)\n      if (!params.toString().includes(tid)) params.append(tid, \"tid\")\n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ selectedObjectTypes }, async () => {\n      this.props.updateObjectTypes(selectedObjectTypes)\n    })\n  }\n\n  selectSubObjectType = (tid) => {\n    let selectedSubObjectTypes = this.state.selectedSubObjectTypes\n    let params = this.state.params\n\n    if (this.state.selectedSubObjectTypes.includes(tid)) {\n      selectedSubObjectTypes = selectedSubObjectTypes.filter(item => item !== tid)\n      params.delete(tid)\n    } else {\n      selectedSubObjectTypes.push(tid)\n      if (!params.toString().includes(tid)) params.append(tid, \"tid\")\n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ selectedSubObjectTypes }, async () => {\n      this.props.updateSubObjectTypes(selectedSubObjectTypes)\n    })\n  }\n\n  selectLicense = (tid) => {\n    let selectedLicenses = this.state.selectedLicenses;\n    let params = this.state.params\n\n    if (selectedLicenses.includes(tid)) {\n      selectedLicenses = selectedLicenses.filter(item => item !== tid)\n      params.delete(tid)\n    } else {\n      selectedLicenses.push(tid)\n      if (!params.toString().includes(tid)) params.append(tid, \"tid\") \n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ params: new URLSearchParams(params), selectedLicenses }, async () => {\n      this.props.updateLicenses(selectedLicenses)\n    })\n  }\n\n  selectTheme = (tid) => {\n    let selectedTheme = this.state.selectedTheme\n    let params = this.state.params\n\n    if (selectedTheme.includes(tid)) {\n      selectedTheme = selectedTheme.filter(item => item !== tid)\n      params.delete(tid)\n    } else {\n      selectedTheme.push(tid)\n      if (!params.toString().includes(tid)) params.append(tid, \"tid\")\n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ params: new URLSearchParams(params), selectedTheme }, async () => {\n      this.props.updateTheme(selectedTheme)\n    })\n  }\n\n  selectEvent = (nid) => {\n    let selectedEvents = this.state.selectedEvents\n    let params = this.state.params\n\n    if (selectedEvents.includes(nid)) {\n      selectedEvents = selectedEvents.filter(item => item !== nid)\n      params.delete(nid)\n    } else {\n      selectedEvents.push(nid);\n      if (!params.toString().includes(nid)) params.append(nid, \"nid\")\n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ params: new URLSearchParams(params), selectedEvents }, async () => {\n      this.props.updateEvents(selectedEvents)\n    })\n  }\n\n  // on windows reload -> selectEvent check if NIDs in url after #\n  checkURL = () => {\n    let filter = this.state.params\n    let urlSubObjectTypes = []\n    if (filter.toString().length) {\n      this.setState({ selectedObjectTypes: [], selectedSubObjectTypes: [], selectedEvents: [], selectedTheme: [], selectedLicenses: [], selectedInstitution: \"\", searchTerm: \"\" }, async () => {\n        this.props.updateObjectTypes([])\n        this.props.updateSubObjectTypes([])\n        this.props.updateEvents([])\n        this.props.updateLicenses([])\n        this.props.updateTheme([])\n        this.props.doSearch(\"\", \"\")\n      })\n      filter.forEach((type, ele) => {\n        if (type === \"nid\") {\n          try {\n            this.selectEvent(this.state.events.find(item => item.nid === ele).nid)\n          } catch {\n            // is no event\n          }\n        } else {\n          try {\n            this.selectLicense(this.state.licenses.find(item => item.tid === ele).tid)\n          } catch {\n            // is no license\n            try{\n              this.selectTheme(this.state.theme.find(item => item.tid === ele).tid)\n            } catch {\n              // is no theme\n              try{\n                this.selectObjectType(this.state.objectTypes.find(item => item.tid === ele).tid)\n              } catch {\n                // is no objectType\n                if (ele !== \"institution\" && ele !== \"search\") {\n                  urlSubObjectTypes.push(ele)\n                } \n              }\n            }\n          }\n        }\n        // Special case custom input\n        if (ele === \"search\" || ele === \"institution\") {\n          if (ele === \"search\") this.setState({searchTerm: type})\n          if (ele === \"institution\") this.setState({selectedInstitution: type})\n          this.props.doSearch(this.state.searchTerm, this.state.selectedInstitution)\n        }\n      })\n      try {\n        this.state.selectedObjectTypes.forEach(objType => {\n          this.state.subObjectTypes[objType].forEach(subobjTypes => {\n            urlSubObjectTypes.forEach(selectedSubobjType => {\n              if (subobjTypes.tid === parseInt(selectedSubobjType)) {\n                this.selectSubObjectType(subobjTypes.tid)\n              }\n            })\n          })\n        })\n      } catch {\n        // is no subObjectType\n      }\n    }\n  }\n\n  onChange = (event) => {\n    this.setState({ searchTerm: event.target.value })\n  }\n\n  onChangeInstitution = (event, { newValue, method }) => {\n    this.setState({\n      selectedInstitution: newValue\n    });\n  };\n\n  getSuggestions = value => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    let institutions = this.state.institutions\n\n    return inputLength === 0 ? [] : institutions.filter(institution =>\n      // Find from Begin to String:\n      // institution.name.toLowerCase().slice(0, inputLength) === inputValue\n      // Find string in string:\n      institution.name.toLowerCase().indexOf(inputValue)>-1\n    );\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    // Autosuggest will call this function every time you need to update suggestions.\n    this.setState({\n      institutionSuggestions: this.getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    // Autosuggest will call this function every time you need to clear suggestions.\n    this.setState({\n      institutionSuggestions: []\n    });\n  };\n\n  doSearch = (e) => {\n    e.preventDefault()\n    let params = this.state.params\n    params.delete(\"search\")\n    params.delete(\"institution\")\n\n    if (this.state.searchTerm || this.state.selectedInstitution !== \"\") {\n      this.props.doSearch(this.state.searchTerm, this.state.selectedInstitution)\n      if (!params.toString().includes(\"search\") && this.state.searchTerm !== \"\") params.append(\"search\", this.state.searchTerm)\n      if (!params.toString().includes(\"institution\") && this.state.selectedInstitution !== \"\") params.append(\"institution\", this.state.selectedInstitution)\n    }\n    window.location.hash = \"?\"+params.toString()\n    this.setState({ params: new URLSearchParams(params) })\n  }\n\n  doReset = (e) => {\n    e.preventDefault()\n    this.setState({ params: new URLSearchParams(), selectedObjectTypes: [], selectedSubObjectTypes: [], selectedEvents: [], selectedTheme: [], selectedLicenses: [], selectedInstitution: \"\", searchTerm: \"\" }, async () => {\n      this.props.updateObjectTypes([])\n      this.props.updateSubObjectTypes([])\n      this.props.updateEvents([])\n      this.props.updateLicenses([])\n      this.props.updateTheme([])\n      this.props.doSearch(\"\", \"\")\n    })\n    window.location.hash = window.location.hash.split(\"#\")[0]\n  }\n\n  async componentDidMount() {\n    // try catch\n    const objectTypes = await loadObjectTypes()\n    // objectTypes: [{tid: \"9\", title: \"Bild\"},..]\n    // const subObjectTypes = { \"9\": [{tid: \"162\", title: \"Scan eines Fotos\"}]}\n    const subObjectTypes = await loadSubObjectTypes()\n\n    const events = await loadEvents()\n    const licenses = await loadLicenses()\n    const theme = await loadTheme()\n    const institutions = await loadInstitutions()\n\n    this.setState({\n      ...this.state,\n      objectTypes,\n      subObjectTypes,\n      events,\n      licenses,\n      theme,\n      institutions,\n      loading: false,\n    }, async () => {\n      this.checkURL()\n    })\n  }\n\n  renderObjectTypes = (term, key) => {\n    let className = \"bef-link badge\"\n    if (this.state.selectedObjectTypes.includes(term.tid)) {\n      className = \"bef-link bef-link--selected badge\"\n      // subtypes?\n      if (this.state.subObjectTypes[term.tid]) {\n        return (<><li key={key}><div className=\"badge\"><a className={className} onClick={() => this.selectObjectType(term.tid)}>{term.title}</a></div>\n            <ul style={{display:\"block\"}}>\n              {this.state.subObjectTypes[term.tid].map(subterm => {\n                // selected\n                const subClassName = (this.state.selectedSubObjectTypes.includes(subterm.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n                return (<li>\n                      <div className=\"badge \"><a className={subClassName} onClick={() => this.selectSubObjectType(subterm.tid)} >{subterm.title}</a></div>\n                    </li>)\n                })}\n            </ul>\n          </li>\n        </>)\n      }\n    }\n    return (<li key={key}><div className=\"badge\"><a className={className} onClick={() => this.selectObjectType(term.tid)}>{term.title}</a></div></li>)\n  }\n\n  renderLicenses = (term, key) => {\n    const className = (this.state.selectedLicenses.includes(term.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a className={className} onClick={() => this.selectLicense(term.tid)}>{term.title}</a></div></li>)\n  }\n\n  renderEvent = (event, key) => {\n    const className = (this.state.selectedEvents.includes(event.nid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a className={className} onClick={() => this.selectEvent(event.nid)}>{event.title}</a></div></li>)\n  }\n\n  renderTheme = (event, key) => {\n    const className = (this.state.selectedTheme.includes(event.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a className={className} onClick={() => this.selectTheme(event.tid)}>{event.title}</a></div></li>)\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view-filters col-lg-3\">\n        <form className=\"views-exposed-form bef-exposed-form\" >\n          <div className=\"form--inline clearfix row\">\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-project-type form-item-project-type\">\n                <label htmlFor=\"edit-project-type\">Event</label>\n                <div data-drupal-selector=\"edit-project-type\" multiple=\"multiple\" name=\"project_type\" id=\"edit-project-type\" size=\"9\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.events.map((term, key) => {\n                      return (this.renderEvent(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-object-types\">Objekttyp</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-object-types\" size=\"8\" className=\"form-select bef-links bef-nested\">\n                  <ul>\n                    {this.state.objectTypes.map((term, key) => {\n                      return (this.renderObjectTypes(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-license\">Lizenz Mediendateien</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-license\" size=\"8\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.licenses.map((term, key) => {\n                      return (this.renderLicenses(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-theme\">Thema TEST</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-theme\" size=\"8\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.theme.map((term, key) => {\n                      return (this.renderTheme(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search\">\n                <label htmlFor=\"edit-search\">Institution</label>\n                <Autosuggest\n                  suggestions={this.state.institutionSuggestions}\n                  onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                  onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                  getSuggestionValue={this.getSuggestionValue}\n                  renderSuggestion={this.renderSuggestion}\n                  inputProps={{placeholder: \"\", value: this.state.selectedInstitution, onChange: this.onChangeInstitution }} />\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search\">\n                <label htmlFor=\"edit-search\">Volltextsuche</label>\n                <input type=\"text\" id=\"edit-search\" name=\"search\" value={this.state.searchTerm} size=\"30\" maxLength=\"128\" className=\"form-text\" onChange={this.onChange}/>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div data-drupal-selector=\"edit-actions\" className=\"form-actions js-form-wrapper form-wrapper\" id=\"edit-actions\">\n                <input type=\"submit\" value=\"Filter anwenden\" className=\"button js-form-submit form-submit\" onClick={this.doSearch}/>\n                <input type=\"submit\" value=\"Zurücksetzen\" className=\"button js-form-submit form-submit\" onClick={this.doReset}/>\n              </div>\n          </div>\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\n\nexport default DataFilters;","\nfunction Datasets(props) {\n\n  if (!props.cards.length) {\n    return <div className=\"col-lg-9\">\n            <div className=\"\">\n              Es sind keine den Filtereinstellungen entsprechenden Datensets vorhanden.\n            </div>\n          </div>\n  }\n\n  return (\n    <div className=\"view-content col-lg-9\">\n      <div className=\"card-columns\">\n        {props.cards.map((card, key)=>{\n            return (<div className=\"views-row card\" key={key}>\n              <article className=\"node node--type-data-set node--view-mode-teaser\">\n                <div className=\"card-img card-img-top\">\n                  <a href={card.url}>\n                    <div className=\"field field--name-field-attributed-image field--type-entity-reference-revisions field--label-hidden field__item\">\n                      <div className=\"paragraph paragraph--type--attributed-image paragraph--view-mode--teaser\">\n                        <div className=\"field field--name-field-inline-image field--type-image field--label-hidden field__item\">\n                          <img src={card.image_url} width=\"480\" height=\"256\" alt=\"\" className=\"image-style-large\"/>\n                        </div>\n                        <div className=\"paragraph--type--attributed-image--attribution\"></div>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n                <div className=\"card-body\">\n                  <h2 className=\"card-title\">\n                    <a href={card.url} rel=\"bookmark\">\n                      <span className=\"field field--name-title field--type-string field--label-hidden\">{card.title}</span>\n                    </a>\n                  </h2>\n                  <div className=\"node__content\">\n                    <div className=\"field field__items field--institution-name\">\n                      <div className=\"field__item\">{card.author_name}</div>\n                    </div>\n                    <div className=\"field field--name-field-events field--type-entity-reference-revisions field--label-hidden field__items\">\n                      <div className=\"field__item\">\n                        <div className=\"paragraph paragraph--type--data-set-event paragraph--view-mode--preview\">\n                          <div className=\"field field--name-field-event field--type-entity-reference field--label-visually_hidden\">\n                            <div className=\"field__label visually-hidden\">Veranstaltung</div>\n                              {card.event_titles.map((event, index) => {\n                                return <div className=\"field__item\" key={index}>\n                                  <a href={event.url}>{event.title}</a>\n                                </div>\n                              })}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"field field--name-field-object-type field--type-entity-reference field--label-hidden field__items\">\n                      {card.objecttypes_titles.map((project_type, index) => {\n                        return (<div key={index} className=\"badge field__item\"><span>{project_type}</span></div>)\n                      })}\n                    </div>\n                  </div>\n                </div>\n              </article>\n            </div>\n        )})}\n      </div>\n    </div>\n  )\n}\n\nexport default Datasets;","import React from \"react\";\n\n\n\nclass Pagination extends React.Component {\n\n  pagination(prevPage, nextPage) {\n    const out = []\n\n    const currentPage = this.props.current + 1\n    const hasPreviousLink = Boolean(currentPage > 1 && prevPage !== this.props.total)\n    const hasNextLink = Boolean(nextPage >= currentPage && nextPage !== this.props.total)\n\n    const hasFirstLink = hasPreviousLink\n    const hasLastLink = hasNextLink\n\n    if (hasFirstLink) { // «\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur ersten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, 0)}>\n          <span className=\"visually-hidden\">Erste Seite</span>\n          <span aria-hidden=\"true\">&#171;</span>\n        </a>\n      </li>)\n    }\n\n    if (hasPreviousLink) {\n      out.push(\n        <li className=\"pager__item pager__item--previous\">\n        <a href=\"#\" title=\"Zur vorherigen Seite\" rel=\"prev\" onClick={(e) => this.props.onChange(e, prevPage)}>\n          <span className=\"visually-hidden\">Vorherige Seite</span>\n          <span aria-hidden=\"true\">‹</span>\n        </a>\n      </li>\n      )\n    }\n\n    for (let i = 1; i < (this.props.total + 1); i++) {\n\n      const pushPage = ((i < 3) || (i > (this.props.total - 2)) || (i === currentPage)) ? true : false\n\n      if (pushPage) {\n        const classNameLi = (i === currentPage) ? \"pager__item is-active\" : \"pager__item\"\n        out.push(<li className={classNameLi} key={i}>\n          <a href=\"#\" onClick={(e) => this.props.onChange(e, (i - 1))}>\n            {i}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === 3)\n      ) {\n        const display = (this.props.total === 5) ? '3' : '...'\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\" >\n            {display}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === (this.props.total - 2))\n        && !(\n          (currentPage < 3)\n          || (currentPage > (this.props.total - 2))\n        )\n      ) {\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\">\n            ...\n          </a>\n        </li>)\n      }\n    }\n\n    if (hasNextLink) {\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur nächsten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, nextPage)}>\n          <span className=\"visually-hidden\">Nächste Seite</span>\n          <span aria-hidden=\"true\">›</span>\n        </a>\n      </li>)\n    }\n\n    if (hasLastLink) { // »\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur letzten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, this.props.total-1)}>\n          <span className=\"visually-hidden\">Letzte Seite</span>\n          <span aria-hidden=\"true\">&#187;</span>\n        </a>\n      </li>)\n    }\n\n    return out;\n  }\n\n  render() {\n\n    const prevPage = ((this.props.current - 1) >= 0) ? this.props.current - 1 : 0\n    const nextPage = ((this.props.current + 1) <= this.props.total) ? this.props.current + 1 : this.props.total\n\n    return (\n      <div className=\"col-lg-9 offset-lg-3\">\n        <nav className=\"pager\" role=\"navigation\" aria-labelledby=\"pagination-heading\">\n          <h4 id=\"pagination-heading\" className=\"visually-hidden\">Seitennummerierung</h4>\n            <ul className=\"pager__items js-pager__items\">\n              {this.pagination(prevPage, nextPage)}\n            </ul>\n          </nav>\n        </div>\n    );\n  }\n}\nexport default Pagination;","import React from \"react\";\n\n\nimport DataFilters from \"./components/DataFilters\"\nimport Datasets from \"./components/Datasets\"\nimport Pagination from \"./components/Pagination\"\n\n\nimport { loadDatasets } from \"./api\"\n\n\nclass Data extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      count: 0,\n      pages: 0,\n      currentPage: 0,\n      limit: 24,\n      cards: [],\n      selectedObjectTypes: [],\n      selectedSubObjectTypes: [],\n      selectedLicenses: [],\n      selectedTheme: [],\n      selectedEvents: [],\n      selectedInstitution: \"\",\n    }\n  }\n\n  handlePaginationClick = async (e, page) => {\n    this.setState({\n      ...this.state,\n      currentPage: page\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateObjectTypes = async (data) => {\n    this.setState({\n      selectedObjectTypes: data,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateSubObjectTypes = async (data) => {\n    this.setState({\n      selectedSubObjectTypes: data,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateLicenses = async (data) => {\n    this.setState({\n      selectedLicenses: data,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateTheme = async (data) => {\n    this.setState({\n      selectedTheme: data,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateEvents = async (data) => {\n    this.setState({\n      selectedEvents: data,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  doSearch = async (q, ins) => {\n    this.setState({\n      searchTerm: q,\n      selectedInstitution: ins,\n      currentPage: 0,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  loadData = async () => {\n    const limit = this.state.limit\n    const offset = this.state.currentPage * limit\n\n    const objecttypes = this.state.selectedObjectTypes.join(\",\")\n    const subObjectTypes = this.state.selectedSubObjectTypes.join(\",\")\n    const events = this.state.selectedEvents.join(\",\")\n    const licenses = this.state.selectedLicenses.join(\",\")\n    const theme = this.state.selectedTheme.join(\",\")\n    const institution = this.state.selectedInstitution\n\n    const cards = await loadDatasets(offset, events, objecttypes, subObjectTypes, licenses, theme, institution, this.state.searchTerm)\n\n    this.setState({\n      ...this.state,\n      cards: cards.data,\n      pages: Math.ceil(cards.count / limit),\n      loading: false,\n    }, async () => {\n\n    })\n  }\n\n  async componentDidMount() {\n    this.loadData()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view view-data-sets view-id-data-sets view-display-id-page_1 container\">\n        <div className=\"row\">\n          <DataFilters\n            updateObjectTypes={this.updateObjectTypes}\n            updateSubObjectTypes={this.updateSubObjectTypes}\n            updateLicenses={this.updateLicenses}\n            updateTheme={this.updateTheme}\n            updateEvents={this.updateEvents}\n            doSearch={this.doSearch}\n          />\n          <Datasets cards={this.state.cards} />\n          <Pagination\n            total={this.state.pages}\n            current={this.state.currentPage}\n            onChange={this.handlePaginationClick}\n            limit={this.state.limit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Data","\n// import Projects from \"./Projects\"\nimport Data from \"./Data\"\n\n// import \"./app.css\"\n\n\n// <Data />\nfunction App() {\n  return (\n    // <Projects />\n    <Data />\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}