{"version":3,"sources":["api.js","components/DataFilters.js","components/Datasets.js","components/Pagination.js","Data.js","App.js","index.js"],"names":["API_HOST","process","getLangCodeOfPath","pathArray","window","location","pathname","split","langCode","length","pop","includes","loadObjectTypes","id","a","axios","get","headers","catch","error","response","data","loadSubObjectTypes","loadLicenses","loadTheme","loadInstitutions","loadEvents","loadDatasets","offset","events","objecttypes","subobjecttypes","licenses","theme","institution","q","DataFilters","props","selectObjectType","tid","selectedObjectTypes","state","filter","item","selectedSubObjectTypes","subObjectTypes","map","subterm","setState","updateSubObjectTypes","push","updateObjectTypes","selectSubObjectType","selectLicense","selectedLicenses","updateLicenses","selectTheme","selectedTheme","updateTheme","selectEvent","nid","selectedEvents","updateEvents","onChange","event","searchTerm","target","value","onChangeInstitution","newValue","method","selectedInstitution","getSuggestions","inputValue","trim","toLowerCase","inputLength","institutions","name","indexOf","onSuggestionsFetchRequested","institutionSuggestions","onSuggestionsClearRequested","doSearch","e","preventDefault","doReset","renderObjectTypes","term","key","className","href","onClick","title","style","display","subClassName","renderLicenses","renderEvent","renderTheme","loading","objectTypes","suggestion","this","htmlFor","data-drupal-selector","multiple","size","suggestions","getSuggestionValue","renderSuggestion","inputProps","placeholder","type","maxLength","React","Component","Datasets","cards","card","url","src","image_url","width","height","alt","rel","author_name","event_titles","index","objecttypes_titles","project_type","Pagination","prevPage","nextPage","out","currentPage","current","hasPreviousLink","Boolean","total","hasNextLink","hasLastLink","aria-hidden","i","classNameLi","role","aria-labelledby","pagination","Data","handlePaginationClick","page","loadData","ins","limit","join","pages","Math","ceil","count","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ede312f8.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport const API_HOST = process.env.REACT_APP_API_HOST\n// export const API_HOST = process.env.REACT_APP_API_HOST || \"https://\" + window.location.host\n\n\nfunction getLangCodeOfPath() {\n  const pathArray = window.location.pathname.split('/');\n  let langCode = \"de\"\n  while (pathArray.length > 0 ) {\n    langCode = pathArray.pop();\n    if (['de', 'en', 'fr'].includes(langCode)) {\n      return langCode\n    }\n  }\n  return langCode\n}\n\n\nexport async function loadProjectTypes(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/projecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadObjectTypes(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/objecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\n\nexport async function loadSubObjectTypes() {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/subobjecttypes`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n  return response.data\n}\n\n\nexport async function loadLicenses(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/licenses`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadTheme(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/theme`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadInstitutions() {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/institutions`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadEvents(id) {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/events`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadCards(offset, projects = \"\", events = \"\", q = \"\") {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/cards?offset=${offset}&projects=${projects}&events=${events}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}\n\nexport async function loadDatasets(offset, events = \"\", objecttypes = \"\", subobjecttypes = \"\", licenses = \"\", theme = \"\", institution=\"\", q = \"\") {\n  const langCode = getLangCodeOfPath()\n  const response = await axios.get(\n    `${API_HOST}/${langCode}/dd_views/datasets?offset=${offset}&objecttypes=${objecttypes}&subobjecttypes=${subobjecttypes}&events=${events}&licenses=${licenses}&theme=${theme}&institution=${institution}&q=${q}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }\n  ).catch(error => {\n    throw (error.response)\n  })\n\n  return response.data\n}","import React from \"react\";\nimport Autosuggest from 'react-autosuggest';\n\nimport { loadObjectTypes, loadSubObjectTypes, loadEvents, loadLicenses, loadTheme, loadInstitutions } from \"../api\"\n\nclass DataFilters extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      selectedInstitution: \"\",\n      institutionSuggestions: [],\n      objectTypes: [],\n      events: [],\n      licenses: [],\n      theme: [],\n      selectedObjectTypes: [],\n      selectedSubObjectTypes: [],\n      selectedEvents: [],\n      selectedTheme: [],\n      selectedLicenses: [],\n      institutions: [],\n    }\n  }\n\n  renderSuggestion(suggestion) {\n    return (\n      <span>{suggestion.name}</span>\n    );\n  }\n\n  getSuggestionValue(suggestion) {\n    return suggestion.name;\n  }\n\n  selectObjectType = (tid) => {\n    let selectedObjectTypes = this.state.selectedObjectTypes\n\n    if (this.state.selectedObjectTypes.includes(tid)) {\n      selectedObjectTypes = selectedObjectTypes.filter(item => item !== tid)\n      // deselect childs if parent is not selected\n      let selectedSubObjectTypes = this.state.selectedSubObjectTypes\n      if (this.state.subObjectTypes[tid] && selectedSubObjectTypes.length) {\n        this.state.subObjectTypes[tid].map(subterm => {\n          if  (selectedSubObjectTypes.includes(subterm.tid))\n            selectedSubObjectTypes = selectedSubObjectTypes.filter(item => item !== subterm.tid)\n          return null\n        })\n        this.setState({ selectedSubObjectTypes }, async () => {\n          this.props.updateSubObjectTypes(selectedSubObjectTypes)\n        })\n      }\n    } else {\n      selectedObjectTypes.push(tid)\n    }\n\n    this.setState({ selectedObjectTypes }, async () => {\n      this.props.updateObjectTypes(selectedObjectTypes)\n    })\n  }\n\n  selectSubObjectType = (tid) => {\n    let selectedSubObjectTypes = this.state.selectedSubObjectTypes\n\n    if (this.state.selectedSubObjectTypes.includes(tid)) {\n      selectedSubObjectTypes = selectedSubObjectTypes.filter(item => item !== tid)\n    } else {\n      selectedSubObjectTypes.push(tid)\n    }\n    this.setState({ selectedSubObjectTypes }, async () => {\n      this.props.updateSubObjectTypes(selectedSubObjectTypes)\n    })\n  }\n\n  selectLicense = (tid) => {\n    let selectedLicenses = this.state.selectedLicenses\n\n    if (this.state.selectedLicenses.includes(tid)) {\n      selectedLicenses = selectedLicenses.filter(item => item !== tid)\n    } else {\n      selectedLicenses.push(tid)\n    }\n\n    this.setState({ selectedLicenses }, async () => {\n      this.props.updateLicenses(selectedLicenses)\n    })\n  }\n\n  selectTheme = (tid) => {\n    let selectedTheme = this.state.selectedTheme\n\n    if (this.state.selectedTheme.includes(tid)) {\n      selectedTheme = selectedTheme.filter(item => item !== tid)\n    } else {\n      selectedTheme.push(tid)\n    }\n\n    this.setState({ selectedTheme }, async () => {\n      this.props.updateTheme(selectedTheme)\n    })\n  }\n\n  selectEvent = (nid) => {\n    let selectedEvents = this.state.selectedEvents\n\n    if (this.state.selectedEvents.includes(nid)) {\n      selectedEvents = selectedEvents.filter(item => item !== nid)\n    } else {\n      selectedEvents.push(nid)\n    }\n\n    this.setState({ selectedEvents }, async () => {\n      this.props.updateEvents(selectedEvents)\n    })\n  }\n\n  onChange = (event) => {\n    this.setState({ searchTerm: event.target.value })\n  }\n\n  onChangeInstitution = (event, { newValue, method }) => {\n    this.setState({\n      selectedInstitution: newValue\n    });\n  };\n\n  getSuggestions = value => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    let institutions = this.state.institutions\n\n    return inputLength === 0 ? [] : institutions.filter(institution =>\n      // Find from Begin to String:\n      // institution.name.toLowerCase().slice(0, inputLength) === inputValue\n      // Find string in string:\n      institution.name.toLowerCase().indexOf(inputValue)>-1\n    );\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    // Autosuggest will call this function every time you need to update suggestions.\n    this.setState({\n      institutionSuggestions: this.getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    // Autosuggest will call this function every time you need to clear suggestions.\n    this.setState({\n      institutionSuggestions: []\n    });\n  };\n\n  doSearch = (e) => {\n    e.preventDefault()\n\n    if (this.state.searchTerm || this.state.selectedInstitution !== \"\") {\n      this.props.doSearch(this.state.searchTerm, this.state.selectedInstitution)\n    }\n  }\n\n  doReset = (e) => {\n    e.preventDefault()\n    this.setState({ selectedObjectTypes: [], selectedSubObjectTypes: [], selectedEvents: [], selectedTheme: [], selectedLicenses: [], selectedInstitution: \"\", searchTerm: \"\" }, async () => {\n      this.props.updateObjectTypes([])\n      this.props.updateSubObjectTypes([])\n      this.props.updateEvents([])\n      this.props.updateLicenses([])\n      this.props.updateTheme([])\n      this.props.doSearch(\"\", \"\")\n    })\n  }\n\n  async componentDidMount() {\n    // try catch\n    const objectTypes = await loadObjectTypes()\n    // objectTypes: [{tid: \"9\", title: \"Bild\"},..]\n    // const subObjectTypes = { \"9\": [{tid: \"162\", title: \"Scan eines Fotos\"}]}\n    const subObjectTypes = await loadSubObjectTypes()\n\n    const events = await loadEvents()\n    const licenses = await loadLicenses()\n    const theme = await loadTheme()\n    const institutions = await loadInstitutions()\n\n    this.setState({\n      ...this.state,\n      objectTypes,\n      subObjectTypes,\n      events,\n      licenses,\n      theme,\n      institutions,\n      loading: false,\n    }, async () => {\n\n    })\n  }\n\n  renderObjectTypes = (term, key) => {\n    let className = \"bef-link badge\"\n    if (this.state.selectedObjectTypes.includes(term.tid)) {\n      className = \"bef-link bef-link--selected badge\"\n      // subtypes?\n      if (this.state.subObjectTypes[term.tid]) {\n        return (<><li key={key}><div className=\"badge\"><a href=\"#\" className={className} onClick={() => this.selectObjectType(term.tid)}>{term.title}</a></div>\n            <ul style={{display:\"block\"}}>\n              {this.state.subObjectTypes[term.tid].map(subterm => {\n                // selected\n                const subClassName = (this.state.selectedSubObjectTypes.includes(subterm.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n                return (<li>\n                      <div className=\"badge \"><a href=\"#\" className={subClassName} onClick={() => this.selectSubObjectType(subterm.tid)} >{subterm.title}</a></div>\n                    </li>)\n                })}\n            </ul>\n          </li>\n        </>)\n      }\n    }\n    return (<li key={key}><div className=\"badge\"><a href=\"#\" className={className} onClick={() => this.selectObjectType(term.tid)}>{term.title}</a></div></li>)\n  }\n\n  renderLicenses = (term, key) => {\n    const className = (this.state.selectedLicenses.includes(term.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a href=\"#\" className={className} onClick={() => this.selectLicense(term.tid)}>{term.title}</a></div></li>)\n  }\n\n  renderEvent = (event, key) => {\n    const className = (this.state.selectedEvents.includes(event.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a href=\"#\" className={className} onClick={() => this.selectEvent(event.nid)}>{event.title}</a></div></li>)\n  }\n\n  renderTheme = (event, key) => {\n    const className = (this.state.selectedTheme.includes(event.tid)) ? \"bef-link bef-link--selected badge\" : \"bef-link badge\"\n    return (<li key={key}><div className=\"badge\"><a href=\"#\" className={className} onClick={() => this.selectTheme(event.tid)}>{event.title}</a></div></li>)\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view-filters col-lg-3\">\n        <form className=\"views-exposed-form bef-exposed-form\" >\n          <div className=\"form--inline clearfix row\">\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-project-type form-item-project-type\">\n                <label htmlFor=\"edit-project-type\">Event</label>\n                <div data-drupal-selector=\"edit-project-type\" multiple=\"multiple\" name=\"project_type\" id=\"edit-project-type\" size=\"9\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.events.map((term, key) => {\n                      return (this.renderEvent(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-object-types\">Objekttyp</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-object-types\" size=\"8\" className=\"form-select bef-links bef-nested\">\n                  <ul>\n                    {this.state.objectTypes.map((term, key) => {\n                      return (this.renderObjectTypes(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-license\">Lizenz Mediendateien</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-license\" size=\"8\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.licenses.map((term, key) => {\n                      return (this.renderLicenses(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-select form-type-select js-form-item-event form-item-event\">\n                <label htmlFor=\"edit-theme\">Thema</label>\n                <div multiple=\"multiple\" name=\"event\" id=\"edit-theme\" size=\"8\" className=\"form-select bef-links\">\n                  <ul>\n                    {this.state.theme.map((term, key) => {\n                      return (this.renderTheme(term, key))\n                    })}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search\">\n                <label htmlFor=\"edit-search\">Institution</label>\n                <Autosuggest\n                  suggestions={this.state.institutionSuggestions}\n                  onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                  onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                  getSuggestionValue={this.getSuggestionValue}\n                  renderSuggestion={this.renderSuggestion}\n                  inputProps={{placeholder: \"\", value: this.state.selectedInstitution, onChange: this.onChangeInstitution }} />\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div className=\"js-form-item form-item js-form-type-textfield form-type-textfield js-form-item-search form-item-search\">\n                <label htmlFor=\"edit-search\">Volltextsuche</label>\n                <input type=\"text\" id=\"edit-search\" name=\"search\" value={this.state.searchTerm} size=\"30\" maxLength=\"128\" className=\"form-text\" onChange={this.onChange}/>\n              </div>\n            </div>\n            <div className=\"col-12\">\n              <div data-drupal-selector=\"edit-actions\" className=\"form-actions js-form-wrapper form-wrapper\" id=\"edit-actions\">\n                <input type=\"submit\" value=\"Filter anwenden\" className=\"button js-form-submit form-submit\" onClick={this.doSearch}/>\n                <input type=\"submit\" value=\"Zurücksetzen\" className=\"button js-form-submit form-submit\" onClick={this.doReset}/>\n              </div>\n          </div>\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\n\nexport default DataFilters;","\nfunction Datasets(props) {\n\n  if (!props.cards.length) {\n    return <div className=\"col-lg-9\">\n            <div className=\"\">\n              Es sind keine den Filtereinstellungen entsprechenden Datensets vorhanden.\n            </div>\n          </div>\n  }\n\n  return (\n    <div className=\"view-content col-lg-9\">\n      <div className=\"card-columns\">\n        {props.cards.map((card, key)=>{\n            return (<div className=\"views-row card\" key={key}>\n              <article className=\"node node--type-data-set node--view-mode-teaser\">\n                <div className=\"card-img card-img-top\">\n                  <a href={card.url}>\n                    <div className=\"field field--name-field-attributed-image field--type-entity-reference-revisions field--label-hidden field__item\">\n                      <div className=\"paragraph paragraph--type--attributed-image paragraph--view-mode--teaser\">\n                        <div className=\"field field--name-field-inline-image field--type-image field--label-hidden field__item\">\n                          <img src={card.image_url} width=\"480\" height=\"256\" alt=\"\" className=\"image-style-large\"/>\n                        </div>\n                        <div className=\"paragraph--type--attributed-image--attribution\"></div>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n                <div className=\"card-body\">\n                  <h2 className=\"card-title\">\n                    <a href={card.url} rel=\"bookmark\">\n                      <span className=\"field field--name-title field--type-string field--label-hidden\">{card.title}</span>\n                    </a>\n                  </h2>\n                  <div className=\"node__content\">\n                    <div className=\"field field__items field--institution-name\">\n                      <div className=\"field__item\">{card.author_name}</div>\n                    </div>\n                    <div className=\"field field--name-field-events field--type-entity-reference-revisions field--label-hidden field__items\">\n                      <div className=\"field__item\">\n                        <div className=\"paragraph paragraph--type--data-set-event paragraph--view-mode--preview\">\n                          <div className=\"field field--name-field-event field--type-entity-reference field--label-visually_hidden\">\n                            <div className=\"field__label visually-hidden\">Veranstaltung</div>\n                              {card.event_titles.map((event, index) => {\n                                return <div className=\"field__item\" key={index}>\n                                  <a href={event.url}>{event.title}</a>\n                                </div>\n                              })}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"field field--name-field-object-type field--type-entity-reference field--label-hidden field__items\">\n                      {card.objecttypes_titles.map((project_type, index) => {\n                        return (<div key={index} className=\"badge field__item\"><span>{project_type}</span></div>)\n                      })}\n                    </div>\n                  </div>\n                </div>\n              </article>\n            </div>\n        )})}\n      </div>\n    </div>\n  )\n}\n\nexport default Datasets;","import React from \"react\";\n\n\n\nclass Pagination extends React.Component {\n\n  pagination(prevPage, nextPage) {\n    const out = []\n\n    const currentPage = this.props.current + 1\n    const hasPreviousLink = Boolean(currentPage > 1 && prevPage !== this.props.total)\n    const hasNextLink = Boolean(nextPage >= currentPage && nextPage !== this.props.total)\n\n    const hasFirstLink = hasPreviousLink\n    const hasLastLink = hasNextLink\n\n    if (hasFirstLink) { // «\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur ersten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, 0)}>\n          <span className=\"visually-hidden\">Erste Seite</span>\n          <span aria-hidden=\"true\">&#171;</span>\n        </a>\n      </li>)\n    }\n\n    if (hasPreviousLink) {\n      out.push(\n        <li className=\"pager__item pager__item--previous\">\n        <a href=\"#\" title=\"Zur vorherigen Seite\" rel=\"prev\" onClick={(e) => this.props.onChange(e, prevPage)}>\n          <span className=\"visually-hidden\">Vorherige Seite</span>\n          <span aria-hidden=\"true\">‹</span>\n        </a>\n      </li>\n      )\n    }\n\n    for (let i = 1; i < (this.props.total + 1); i++) {\n\n      const pushPage = ((i < 3) || (i > (this.props.total - 2)) || (i === currentPage)) ? true : false\n\n      if (pushPage) {\n        const classNameLi = (i === currentPage) ? \"pager__item is-active\" : \"pager__item\"\n        out.push(<li className={classNameLi} key={i}>\n          <a href=\"#\" onClick={(e) => this.props.onChange(e, (i - 1))}>\n            {i}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === 3)\n      ) {\n        const display = (this.props.total === 5) ? '3' : '...'\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\" >\n            {display}\n          </a>\n        </li>)\n      }\n      else if (\n        (this.props.total > 4)\n        && (i !== currentPage)\n        && (i === (this.props.total - 2))\n        && !(\n          (currentPage < 3)\n          || (currentPage > (this.props.total - 2))\n        )\n      ) {\n        out.push(<li className=\"pager__item disabled\" key={i}>\n          <a href=\"#\">\n            ...\n          </a>\n        </li>)\n      }\n    }\n\n    if (hasNextLink) {\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur nächsten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, nextPage)}>\n          <span className=\"visually-hidden\">Nächste Seite</span>\n          <span aria-hidden=\"true\">›</span>\n        </a>\n      </li>)\n    }\n\n    if (hasLastLink) { // »\n      out.push(<li className=\"pager__item pager__item--next\">\n        <a href=\"#\" title=\"Zur letzten Seite\" rel=\"next\" onClick={(e) => this.props.onChange(e, this.props.total-1)}>\n          <span className=\"visually-hidden\">Letzte Seite</span>\n          <span aria-hidden=\"true\">&#187;</span>\n        </a>\n      </li>)\n    }\n\n    return out;\n  }\n\n  render() {\n\n    const prevPage = ((this.props.current - 1) >= 0) ? this.props.current - 1 : 0\n    const nextPage = ((this.props.current + 1) <= this.props.total) ? this.props.current + 1 : this.props.total\n\n    return (\n      <div className=\"col-lg-9 offset-lg-3\">\n        <nav className=\"pager\" role=\"navigation\" aria-labelledby=\"pagination-heading\">\n          <h4 id=\"pagination-heading\" className=\"visually-hidden\">Seitennummerierung</h4>\n            <ul className=\"pager__items js-pager__items\">\n              {this.pagination(prevPage, nextPage)}\n            </ul>\n          </nav>\n        </div>\n    );\n  }\n}\nexport default Pagination;","import React from \"react\";\n\n\nimport DataFilters from \"./components/DataFilters\"\nimport Datasets from \"./components/Datasets\"\nimport Pagination from \"./components/Pagination\"\n\n\nimport { loadDatasets } from \"./api\"\n\n\nclass Data extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      searchTerm: \"\",\n      count: 0,\n      pages: 0,\n      currentPage: 0,\n      limit: 24,\n      cards: [],\n      selectedObjectTypes: [],\n      selectedSubObjectTypes: [],\n      selectedLicenses: [],\n      selectedTheme: [],\n      selectedEvents: [],\n      selectedInstitution: \"\",\n    }\n  }\n\n  handlePaginationClick = async (e, page) => {\n    this.setState({\n      ...this.state,\n      currentPage: page\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateObjectTypes = async (data) => {\n    this.setState({\n      selectedObjectTypes: data,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateSubObjectTypes = async (data) => {\n    this.setState({\n      selectedSubObjectTypes: data,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateLicenses = async (data) => {\n    this.setState({\n      selectedLicenses: data\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateTheme = async (data) => {\n    this.setState({\n      selectedTheme: data\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  updateEvents = async (data) => {\n    this.setState({\n      selectedEvents: data\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  doSearch = async (q, ins) => {\n    this.setState({\n      searchTerm: q,\n      selectedInstitution: ins,\n    }, async () => {\n      await this.loadData()\n    })\n  }\n\n  loadData = async () => {\n    const limit = this.state.limit\n    const offset = this.state.currentPage * limit\n\n    const objecttypes = this.state.selectedObjectTypes.join(\",\")\n    const subObjectTypes = this.state.selectedSubObjectTypes.join(\",\")\n    const events = this.state.selectedEvents.join(\",\")\n    const licenses = this.state.selectedLicenses.join(\",\")\n    const theme = this.state.selectedTheme.join(\",\")\n    const institution = this.state.selectedInstitution\n\n    const cards = await loadDatasets(offset, events, objecttypes, subObjectTypes, licenses, theme, institution, this.state.searchTerm)\n\n    this.setState({\n      ...this.state,\n      cards: cards.data,\n      pages: Math.ceil(cards.count / limit),\n      loading: false,\n    }, async () => {\n\n    })\n  }\n\n  async componentDidMount() {\n    this.loadData()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return \"....\"\n    }\n\n    return (\n      <div className=\"view view-data-sets view-id-data-sets view-display-id-page_1 container\">\n        <div className=\"row\">\n          <DataFilters\n            updateObjectTypes={this.updateObjectTypes}\n            updateSubObjectTypes={this.updateSubObjectTypes}\n            updateLicenses={this.updateLicenses}\n            updateTheme={this.updateTheme}\n            updateEvents={this.updateEvents}\n            doSearch={this.doSearch}\n          />\n          <Datasets cards={this.state.cards} />\n          <Pagination\n            total={this.state.pages}\n            current={this.state.currentPage}\n            onChange={this.handlePaginationClick}\n            limit={this.state.limit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Data","\n// import Projects from \"./Projects\"\nimport Data from \"./Data\"\n\n// import \"./app.css\"\n\n\n// <Data />\nfunction App() {\n  return (\n    // <Projects />\n    <Data />\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}