/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/

(function ($) {
  $(function () {
    var $checkboxes = $('.form-checkbox[data-description]').closest('.form-checkboxes');

    $checkboxes.on('click', function (e) {
      if (e.target.tagName.toUpperCase() !== 'LABEL') {
        updateCheckboxDescription($(e.target).closest('.form-type-checkbox'));
      }
    });

    $checkboxes.each(function () {
      $(this).find('.form-type-checkbox').each(function () {
        updateCheckboxDescription($(this), true);
      });
    });
  });

  function updateCheckboxDescription($checkboxContainer, init) {
    var $checkbox = $checkboxContainer.find('input');
    var description = $checkbox.data('description');

    if (!description) {
      return;
    }

    var $description = $checkboxContainer.find('.form-checkbox--description');

    if ($checkbox.is(':checked')) {
      if (!$description.length) {
        $description = $('<div>').addClass('form-checkbox--description description');

        if (!init) {
          $description.hide();
        }

        $description.html($checkbox.data('description'));

        $checkboxContainer.append($description);
      }
      $description.stop(true).slideDown();
    } else if ($description.length) {
      $description.stop(true).slideUp();
    }
  }
})(jQuery);